
<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8">
	<title>Inicio</title>
  <link rel="stylesheet" href="/menubar/styles.css">
	<link rel="stylesheet" href="/pdf/estiloPDF.css">
	<script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script>
		$(document).ready(function(){
			$(".hamburger").click(function(){
			   $(".wrapper").toggleClass("collapse");
			});
		});
  </script>
  <script
	    src="https://code.jquery.com/jquery-3.4.1.js"
		integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous">
    </script>
<script src="Js/jQueryHelper.js"></script>
<!-- <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js'></script> -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">    <link rel="stylesheet" href="Styles/style.css">
<link href="styles/kendo.default-v2.min.css" rel="stylesheet" />
<link href="https://kendo.cdn.telerik.com/2020.3.1021/styles/kendo.common.min.css" rel="stylesheet" />
<link href="https://kendo.cdn.telerik.com/2020.3.1021/styles/kendo.default.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2020.3.1021/js/kendo.all.min.js"></script>
<!--REFERENCIAS PARA LAS ALERTASs-->
<link href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.8.0/sweetalert2.min.css" rel="stylesheet" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.8.0/sweetalert2.min.js"></script>




 <!--PARA EL QUERY-->
 <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/themes/redmond/jquery-ui.css">
  
  
 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.js"></script>
 
 <!--QUIZAS NO SIRVEN, PERO POR SI LAS DUDAS-->
 
 <link rel="stylesheet" href="alert/dist/sweetalert.css">

 <script type="text/javascript" src="js/d3.v3.min.js"></script>
 <script type="text/javascript" src="js/utilities.js"></script>
 <script src="https://code.jquery.com/jquery-3.3.1.js"></script>




 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script> <!--SRC DE LOS ALERT-->

 <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>




 <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.2.61/jspdf.debug.js"></script>

 <!-- EDIT: For now, add this line between the libraries -->
 <!-- The reason being that jspdf includes a version of requirejs which -->
 <!-- jspdf-autotable currently is not expecting. You can also use version < 2.0.21 -->
 <script>if (window.define) delete window.define.amd;</script>
 
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.0.28/jspdf.plugin.autotable.js"></script>
 





 <script src="jspdf.min.js"></script>
 <script src="jspdf.plugin.autotable.min.js"></script>




 <!-- jQuery library -->
<script src="js/jquery.min.js"></script>

<!-- jsPDF library -->
<script src="js/jsPDF/dist/jspdf.min.js"></script>


</head>
<body>

<div class="wrapper">
  <div class="top_navbar">
    <div class="hamburger">
       <div class="one"></div>
       <div class="two"></div>
       <div class="three"></div>
    </div>
    <div class="top_menu">
      <div class="logo">BOLSA DE TRABAJO</div>
      <ul>
        <li><a href="#">
            <i class="fas fa-arrow-circle-down" id="btnExport"></i>
        <li><a href="#">
          <i class="fas fa-bell"></i>
          </a></li>
        <li><a href="#">
          <i class="fas fa-user"></i>
          </a></li>
      </ul>
    </div>
  </div>

  <div class="sidebar">
      <ul>
        <li><a href="#">
          <span class="icon"><i class="fas fa-cogs"></i></span>
          <span class="title">Categoria</span></a></li>
        <li><a href="/secciones/curso/cursos.html">
          <span class="icon"><i class="fas fa-tv"></i></span>
          <span class="title">Cursos</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="fas fa-building"></i></span>
          <span class="title">Departamentos</span>
          </a></li>
        <li><a href="#" class="active">
          <span class="icon"><i class="fas fa-chalkboard-teacher"></i></span>
          <span class="title">Empleado Curso</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="fas fa-id-card"></i></span>
          <span class="title">Empleado Documento</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="fas fa-id-card-alt"></i></span>
          <span class="title">Escolaridad</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="fas fa-briefcase"></i></span>
          <span class="title">Experiencia</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="far fa-clock"></i></span>
          <span class="title">Horario</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="fas fa-male"></i></span>
          <span class="title">Perfil</span>
          </a></li>
        <li><a href="#">
          <span class="icon"><i class="fas fa-users"></i></span>
          <span class="title">Puesto</span>
          </a></li>
        <li><a href="/menubar/mantenimiento_empleado.html">
          <span class="icon"><i class="fas fa-folder-open"></i></span>
          <span class="title">Mantenimiento de Empleado</span>
          </a></li>
        <li><a href="/menubar/menu.html">
          <span class="icon"><i class="fas fa-folder-open"></i></span>
          <span class="title">Mantenimiento Bolsa</span>
        </a></li>
    </ul>
  </div>
  
  <div class="main_container">
    <div style="padding-left: 5%; padding-right: 5%;" class="col col-sm-12 col-md-12 col-lg-12 container-fluid">    
      <div class="panel">
          <div class="panel-heading" style="text-align: center;">
            <h4 class="panel-title" style="font-weight:100">Instituto Tecnológico de Mexicali</h4>
            <h4 class="panel-title"  style="font-weight:100">Bolsa de trabajo</h4>
            <h4 class="panel-title" style="font-weight:100">Mantenimiento Bolsa</h4>
          </div>
        </div>

        <div class="tabla">
          <table id="basic-table" class="table table-striped">
              <thead>
              <tr>
                  <th>No Control</th>
                  <th>Nombre</th>
                  <th>Sexo</th>
                  <th>Fecha de Nacimiento</th>
                  <th>Direccion</th>
                  <th>Telefóno</th>
                  <th>Fecha Ingreso</th>
                  <th>Nacionalidad</th>
                  <th>Perfil</th>
                  <th>Experciencia</th>
                  <th>Escolaridad</th>
                  <th>CURP</th>
                  <th>Documentos</th>
                  <th>Estatus</th>
                  <th>Observaciones</th>
              </tr>
              </thead>
              <tbody id="myTable">
              </tbody>
          </table>
      </div>


      <div class="buttom">
        <a class="btn btn-success form-group" id="btnExport" >Export PDF</a>
    </div>

    </div>
  </div>
  </div>
  </div>
</div>
<script>
    const api_url = "http://localhost:5000/api/mantenimientoEmpleado"; 

    // Defining async function 
    async function getapi(url) { 
        // Storing response 
        const response = await fetch(url); 
        // Storing data in form of JSON 
        var data = await response.json(); 
        buildTable(data); 
    } 
    getapi(api_url); 

        function buildTable(data) {
            var table = document.getElementById('myTable');

            for(var i =0; i<data.length; i++) {
                console.log("la data es"+data[i]);
                var row =`<tr>
                    <td>${data[i].no_control}</td>
                    <td>${data[i].no_seguro_social}</td>
                    <td>${data[i].nombre} ${data[i].ap_paterno} ${data[i].ap_materno}</td>
                    <td>${data[i].sexo}</td>
                    <td>${data[i].f_nacimiento}</td>
                    <td>${data[i].telefono}</td>
                    <td>${data[i].fecha_ingreso}</td>
                    <td>${data[i].horario_entrada} - ${data[i].horario_salida}</td>
                    <td>${data[i].dias_semana}</td>
                    <td>${data[i].puesto}</td>
                    <td>${data[i].estatus}</td>
                    <td>Curso 1: ${data[i].nombre_curso1}<br>Curso 2: ${data[i].nombre_curso2}</td>
                    <td>${data[i].observaciones}</td>
                    </tr> `
                table.innerHTML+=row
            }
        } 
    </script>
</body>
<script src="/Javascript/dsKendo/dsDepartamento.js"></script>
<script src="/Javascript/dsKendo/dsEmpleado.js"></script>
<script src="/Javascript/dsKendo/dsEmpleadoCurso.js"></script>
<script src="/Javascript/dsKendo/dsEscolaridad.js"></script>
<script src="/Javascript/dsKendo/dsMateria.js"></script>
<script src="/Javascript/dsKendo/dsPuesto.js"></script>
<script src="/Javascript/dsKendo/dsDocumento.js"></script>
<script src="/Javascript/dsKendo/dsNacionalidad.js"></script>
<script src="/Javascript/dsKendo/dsPerfil.js"></script>
<script src="/Javascript/dsKendo/helper.js"></script>
<script src="/Javascript/Index.js"></script>
<script src="/pdf/exportando.js"></script>
</html>